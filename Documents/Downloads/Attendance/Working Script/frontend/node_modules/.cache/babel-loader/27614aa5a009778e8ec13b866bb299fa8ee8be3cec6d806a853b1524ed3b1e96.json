{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\m.hakkim\\\\Documents\\\\Downloads\\\\Attendance\\\\frontend\\\\src\\\\components\\\\AttendanceForm.js\",\n  _s = $RefreshSig$();\n// frontend/src/components/AttendanceForm.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { useNotifications } from '../context/NotificationContext';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AttendanceForm = ({\n  onClose,\n  onSuccess\n}) => {\n  _s();\n  const {\n    user,\n    token\n  } = useAuth();\n  const {\n    addNotification\n  } = useNotifications();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [location, setLocation] = useState(null);\n  const [attendanceType, setAttendanceType] = useState('check_in');\n  const [loading, setLoading] = useState(false);\n  const [cameraReady, setCameraReady] = useState(false);\n  const [locationError, setLocationError] = useState('');\n  const [step, setStep] = useState(1); // 1: location, 2: camera, 3: confirm\n\n  useEffect(() => {\n    getCurrentLocation();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n  const getCurrentLocation = () => {\n    if (!navigator.geolocation) {\n      setLocationError('Geolocation is not supported by this browser');\n      return;\n    }\n    navigator.geolocation.getCurrentPosition(position => {\n      setLocation({\n        latitude: position.coords.latitude,\n        longitude: position.coords.longitude,\n        accuracy: position.coords.accuracy\n      });\n      setLocationError('');\n      setStep(2);\n      startCamera();\n    }, error => {\n      let errorMessage = 'Unable to retrieve location';\n      switch (error.code) {\n        case error.PERMISSION_DENIED:\n          errorMessage = 'Location access denied by user';\n          break;\n        case error.POSITION_UNAVAILABLE:\n          errorMessage = 'Location information is unavailable';\n          break;\n        case error.TIMEOUT:\n          errorMessage = 'Location request timed out';\n          break;\n      }\n      setLocationError(errorMessage);\n    }, {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000 // 5 minutes\n    });\n  };\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 640\n          },\n          height: {\n            ideal: 480\n          },\n          facingMode: 'user'\n        },\n        audio: false\n      });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        videoRef.current.onloadedmetadata = () => {\n          setCameraReady(true);\n        };\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      addNotification('Unable to access camera. Please check permissions.', 'error');\n    }\n  };\n  const captureImage = () => {\n    if (!videoRef.current || !canvasRef.current) return null;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0);\n    return canvas.toDataURL('image/jpeg', 0.8);\n  };\n  const handleSubmit = async () => {\n    if (!location) {\n      addNotification('Location is required for attendance', 'error');\n      return;\n    }\n    if (!cameraReady) {\n      addNotification('Camera is not ready. Please wait or refresh.', 'error');\n      return;\n    }\n    setLoading(true);\n    try {\n      // Capture face image\n      const faceImage = captureImage();\n      if (!faceImage) {\n        throw new Error('Failed to capture face image');\n      }\n      const attendanceData = {\n        type: attendanceType,\n        location: {\n          latitude: location.latitude,\n          longitude: location.longitude,\n          accuracy: location.accuracy\n        },\n        faceImage: faceImage,\n        timestamp: new Date().toISOString()\n      };\n      const response = await fetch('/api/attendance/biometric', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(attendanceData)\n      });\n      if (response.ok) {\n        const result = await response.json();\n        addNotification(`${attendanceType === 'check_in' ? 'Check-in' : 'Check-out'} successful!`, 'success');\n        onSuccess && onSuccess(result);\n        onClose();\n      } else {\n        const error = await response.json();\n        throw new Error(error.message || 'Attendance submission failed');\n      }\n    } catch (error) {\n      console.error('Attendance submission error:', error);\n      addNotification(error.message || 'Failed to submit attendance', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const retryLocation = () => {\n    setLocationError('');\n    setStep(1);\n    getCurrentLocation();\n  };\n  const retryCamera = () => {\n    setCameraReady(false);\n    startCamera();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-900\",\n            children: \"Biometric Attendance\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-400 hover:text-gray-600\",\n            disabled: loading,\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"w-6 h-6\",\n              fill: \"none\",\n              stroke: \"currentColor\",\n              viewBox: \"0 0 24 24\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                strokeLinecap: \"round\",\n                strokeLinejoin: \"round\",\n                strokeWidth: 2,\n                d: \"M6 18L18 6M6 6l12 12\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center space-x-2 ${step >= 1 ? 'text-blue-600' : 'text-gray-400'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 1 ? 'bg-blue-600 text-white' : 'bg-gray-200'}`,\n                children: location ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M5 13l4 4L19 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this) : '1'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Location\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-0.5 ${step >= 2 ? 'bg-blue-600' : 'bg-gray-200'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center space-x-2 ${step >= 2 ? 'text-blue-600' : 'text-gray-400'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 2 ? 'bg-blue-600 text-white' : 'bg-gray-200'}`,\n                children: cameraReady ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M5 13l4 4L19 7\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 223,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this) : '2'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Camera\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-0.5 ${step >= 3 ? 'bg-blue-600' : 'bg-gray-200'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center space-x-2 ${step >= 3 ? 'text-blue-600' : 'text-gray-400'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 3 ? 'bg-blue-600 text-white' : 'bg-gray-200'}`,\n                children: \"3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm font-medium\",\n                children: \"Confirm\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-3\",\n            children: \"Attendance Type\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAttendanceType('check_in'),\n              className: `flex-1 p-3 rounded-lg border-2 transition-colors ${attendanceType === 'check_in' ? 'border-green-500 bg-green-50 text-green-700' : 'border-gray-200 hover:border-gray-300'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-8 h-8 mx-auto mb-2\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Check In\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setAttendanceType('check_out'),\n              className: `flex-1 p-3 rounded-lg border-2 transition-colors ${attendanceType === 'check_out' ? 'border-red-500 bg-red-50 text-red-700' : 'border-gray-200 hover:border-gray-300'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-8 h-8 mx-auto mb-2\",\n                  fill: \"none\",\n                  stroke: \"currentColor\",\n                  viewBox: \"0 0 24 24\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    strokeWidth: 2,\n                    d: \"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 280,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium\",\n                  children: \"Check Out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: \"Location Verification\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this), location && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600 text-sm font-medium flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4 mr-1\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M5 13l4 4L19 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 19\n              }, this), \"Location Verified\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), locationError ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-red-50 border border-red-200 rounded-lg p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-red-400 mr-3\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-800 font-medium\",\n                  children: \"Location Error\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-red-600 text-sm\",\n                  children: locationError\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: retryLocation,\n              className: \"mt-3 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",\n              children: \"Retry Location\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 15\n          }, this) : location ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-5 h-5 text-green-400 mr-3\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M15 11a3 3 0 11-6 0 3 3 0 016 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-green-800 font-medium\",\n                  children: \"Location Captured\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-green-600 text-sm\",\n                  children: [\"Accuracy: \\xB1\", Math.round(location.accuracy), \"m\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-blue-50 border border-blue-200 rounded-lg p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-800 font-medium\",\n                  children: \"Getting Location...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-blue-600 text-sm\",\n                  children: \"Please allow location access\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this), step >= 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-medium text-gray-900\",\n              children: \"Face Recognition\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 17\n            }, this), cameraReady && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-green-600 text-sm font-medium flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-4 h-4 mr-1\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M5 13l4 4L19 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 356,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this), \"Camera Ready\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative bg-gray-900 rounded-lg overflow-hidden\",\n            children: [/*#__PURE__*/_jsxDEV(\"video\", {\n              ref: videoRef,\n              autoPlay: true,\n              playsInline: true,\n              muted: true,\n              className: \"w-full h-64 object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n              ref: canvasRef,\n              style: {\n                display: 'none'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-48 h-64 border-2 border-white rounded-lg opacity-50\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center text-white text-sm mt-2\",\n                  children: \"Position your face here\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this), !cameraReady && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center text-white\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Loading camera...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 389,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: retryCamera,\n                  className: \"mt-2 text-blue-300 hover:text-blue-100 text-sm underline\",\n                  children: \"Retry Camera\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 387,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-2\",\n            children: \"Please ensure your face is clearly visible and well-lit for accurate recognition.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-6 bg-gray-50 rounded-lg p-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-600\",\n              children: \"Current Time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: new Date().toLocaleTimeString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: new Date().toLocaleDateString('en-US', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 409,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          disabled: loading,\n          className: \"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors disabled:opacity-50\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit,\n          disabled: loading || !location || !cameraReady,\n          className: \"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center\",\n          children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 17\n            }, this), \"Processing...\"]\n          }, void 0, true) : `Submit ${attendanceType === 'check_in' ? 'Check-in' : 'Check-out'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(AttendanceForm, \"d3T4YbJ8zg+j6vIhqy6vl3ZxHGY=\", false, function () {\n  return [useAuth, useNotifications];\n});\n_c = AttendanceForm;\nexport default AttendanceForm;\nvar _c;\n$RefreshReg$(_c, \"AttendanceForm\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useAuth","useNotifications","jsxDEV","_jsxDEV","Fragment","_Fragment","AttendanceForm","onClose","onSuccess","_s","user","token","addNotification","videoRef","canvasRef","stream","setStream","location","setLocation","attendanceType","setAttendanceType","loading","setLoading","cameraReady","setCameraReady","locationError","setLocationError","step","setStep","getCurrentLocation","getTracks","forEach","track","stop","navigator","geolocation","getCurrentPosition","position","latitude","coords","longitude","accuracy","startCamera","error","errorMessage","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","timeout","maximumAge","mediaStream","mediaDevices","getUserMedia","video","width","ideal","height","facingMode","audio","current","srcObject","onloadedmetadata","console","captureImage","canvas","context","getContext","videoWidth","videoHeight","drawImage","toDataURL","handleSubmit","faceImage","Error","attendanceData","type","timestamp","Date","toISOString","response","fetch","method","headers","body","JSON","stringify","ok","result","json","message","retryLocation","retryCamera","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","Math","round","ref","autoPlay","playsInline","muted","style","display","toLocaleTimeString","toLocaleDateString","weekday","year","month","day","_c","$RefreshReg$"],"sources":["C:/Users/m.hakkim/Documents/Downloads/Attendance/frontend/src/components/AttendanceForm.js"],"sourcesContent":["// frontend/src/components/AttendanceForm.js\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { useNotifications } from '../context/NotificationContext';\n\nconst AttendanceForm = ({ onClose, onSuccess }) => {\n  const { user, token } = useAuth();\n  const { addNotification } = useNotifications();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [location, setLocation] = useState(null);\n  const [attendanceType, setAttendanceType] = useState('check_in');\n  const [loading, setLoading] = useState(false);\n  const [cameraReady, setCameraReady] = useState(false);\n  const [locationError, setLocationError] = useState('');\n  const [step, setStep] = useState(1); // 1: location, 2: camera, 3: confirm\n\n  useEffect(() => {\n    getCurrentLocation();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n\n  const getCurrentLocation = () => {\n    if (!navigator.geolocation) {\n      setLocationError('Geolocation is not supported by this browser');\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setLocation({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy\n        });\n        setLocationError('');\n        setStep(2);\n        startCamera();\n      },\n      (error) => {\n        let errorMessage = 'Unable to retrieve location';\n        switch(error.code) {\n          case error.PERMISSION_DENIED:\n            errorMessage = 'Location access denied by user';\n            break;\n          case error.POSITION_UNAVAILABLE:\n            errorMessage = 'Location information is unavailable';\n            break;\n          case error.TIMEOUT:\n            errorMessage = 'Location request timed out';\n            break;\n        }\n        setLocationError(errorMessage);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 300000 // 5 minutes\n      }\n    );\n  };\n\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: { ideal: 640 },\n          height: { ideal: 480 },\n          facingMode: 'user'\n        },\n        audio: false\n      });\n\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        videoRef.current.onloadedmetadata = () => {\n          setCameraReady(true);\n        };\n      }\n    } catch (error) {\n      console.error('Error accessing camera:', error);\n      addNotification('Unable to access camera. Please check permissions.', 'error');\n    }\n  };\n\n  const captureImage = () => {\n    if (!videoRef.current || !canvasRef.current) return null;\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0);\n\n    return canvas.toDataURL('image/jpeg', 0.8);\n  };\n\n  const handleSubmit = async () => {\n    if (!location) {\n      addNotification('Location is required for attendance', 'error');\n      return;\n    }\n\n    if (!cameraReady) {\n      addNotification('Camera is not ready. Please wait or refresh.', 'error');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      // Capture face image\n      const faceImage = captureImage();\n      if (!faceImage) {\n        throw new Error('Failed to capture face image');\n      }\n\n      const attendanceData = {\n        type: attendanceType,\n        location: {\n          latitude: location.latitude,\n          longitude: location.longitude,\n          accuracy: location.accuracy\n        },\n        faceImage: faceImage,\n        timestamp: new Date().toISOString()\n      };\n\n      const response = await fetch('/api/attendance/biometric', {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(attendanceData)\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        addNotification(\n          `${attendanceType === 'check_in' ? 'Check-in' : 'Check-out'} successful!`,\n          'success'\n        );\n        onSuccess && onSuccess(result);\n        onClose();\n      } else {\n        const error = await response.json();\n        throw new Error(error.message || 'Attendance submission failed');\n      }\n    } catch (error) {\n      console.error('Attendance submission error:', error);\n      addNotification(error.message || 'Failed to submit attendance', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const retryLocation = () => {\n    setLocationError('');\n    setStep(1);\n    getCurrentLocation();\n  };\n\n  const retryCamera = () => {\n    setCameraReady(false);\n    startCamera();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-screen overflow-y-auto\">\n        {/* Header */}\n        <div className=\"p-6 border-b border-gray-200\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Biometric Attendance\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"text-gray-400 hover:text-gray-600\"\n              disabled={loading}\n            >\n              <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n\n          {/* Progress Indicator */}\n          <div className=\"mt-4\">\n            <div className=\"flex items-center space-x-4\">\n              <div className={`flex items-center space-x-2 ${step >= 1 ? 'text-blue-600' : 'text-gray-400'}`}>\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                  step >= 1 ? 'bg-blue-600 text-white' : 'bg-gray-200'\n                }`}>\n                  {location ? (\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                  ) : (\n                    '1'\n                  )}\n                </div>\n                <span className=\"text-sm font-medium\">Location</span>\n              </div>\n              \n              <div className={`w-8 h-0.5 ${step >= 2 ? 'bg-blue-600' : 'bg-gray-200'}`}></div>\n              \n              <div className={`flex items-center space-x-2 ${step >= 2 ? 'text-blue-600' : 'text-gray-400'}`}>\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                  step >= 2 ? 'bg-blue-600 text-white' : 'bg-gray-200'\n                }`}>\n                  {cameraReady ? (\n                    <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                  ) : (\n                    '2'\n                  )}\n                </div>\n                <span className=\"text-sm font-medium\">Camera</span>\n              </div>\n              \n              <div className={`w-8 h-0.5 ${step >= 3 ? 'bg-blue-600' : 'bg-gray-200'}`}></div>\n              \n              <div className={`flex items-center space-x-2 ${step >= 3 ? 'text-blue-600' : 'text-gray-400'}`}>\n                <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                  step >= 3 ? 'bg-blue-600 text-white' : 'bg-gray-200'\n                }`}>\n                  3\n                </div>\n                <span className=\"text-sm font-medium\">Confirm</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6\">\n          {/* Attendance Type Selection */}\n          <div className=\"mb-6\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-3\">\n              Attendance Type\n            </label>\n            <div className=\"flex space-x-4\">\n              <button\n                onClick={() => setAttendanceType('check_in')}\n                className={`flex-1 p-3 rounded-lg border-2 transition-colors ${\n                  attendanceType === 'check_in'\n                    ? 'border-green-500 bg-green-50 text-green-700'\n                    : 'border-gray-200 hover:border-gray-300'\n                }`}\n              >\n                <div className=\"text-center\">\n                  <svg className=\"w-8 h-8 mx-auto mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\n                  </svg>\n                  <span className=\"font-medium\">Check In</span>\n                </div>\n              </button>\n              \n              <button\n                onClick={() => setAttendanceType('check_out')}\n                className={`flex-1 p-3 rounded-lg border-2 transition-colors ${\n                  attendanceType === 'check_out'\n                    ? 'border-red-500 bg-red-50 text-red-700'\n                    : 'border-gray-200 hover:border-gray-300'\n                }`}\n              >\n                <div className=\"text-center\">\n                  <svg className=\"w-8 h-8 mx-auto mb-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1\" />\n                  </svg>\n                  <span className=\"font-medium\">Check Out</span>\n                </div>\n              </button>\n            </div>\n          </div>\n\n          {/* Location Status */}\n          <div className=\"mb-6\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"text-lg font-medium text-gray-900\">Location Verification</h3>\n              {location && (\n                <span className=\"text-green-600 text-sm font-medium flex items-center\">\n                  <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                  </svg>\n                  Location Verified\n                </span>\n              )}\n            </div>\n            \n            {locationError ? (\n              <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n                <div className=\"flex items-center\">\n                  <svg className=\"w-5 h-5 text-red-400 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                  <div>\n                    <p className=\"text-red-800 font-medium\">Location Error</p>\n                    <p className=\"text-red-600 text-sm\">{locationError}</p>\n                  </div>\n                </div>\n                <button\n                  onClick={retryLocation}\n                  className=\"mt-3 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\n                >\n                  Retry Location\n                </button>\n              </div>\n            ) : location ? (\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                <div className=\"flex items-center\">\n                  <svg className=\"w-5 h-5 text-green-400 mr-3\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z\" />\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 11a3 3 0 11-6 0 3 3 0 016 0z\" />\n                  </svg>\n                  <div>\n                    <p className=\"text-green-800 font-medium\">Location Captured</p>\n                    <p className=\"text-green-600 text-sm\">\n                      Accuracy: {Math.round(location.accuracy)}m\n                    </p>\n                  </div>\n                </div>\n              </div>\n            ) : (\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n                <div className=\"flex items-center\">\n                  <div className=\"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600 mr-3\"></div>\n                  <div>\n                    <p className=\"text-blue-800 font-medium\">Getting Location...</p>\n                    <p className=\"text-blue-600 text-sm\">Please allow location access</p>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n\n          {/* Camera Section */}\n          {step >= 2 && (\n            <div className=\"mb-6\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Face Recognition</h3>\n                {cameraReady && (\n                  <span className=\"text-green-600 text-sm font-medium flex items-center\">\n                    <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                    Camera Ready\n                  </span>\n                )}\n              </div>\n              \n              <div className=\"relative bg-gray-900 rounded-lg overflow-hidden\">\n                <video\n                  ref={videoRef}\n                  autoPlay\n                  playsInline\n                  muted\n                  className=\"w-full h-64 object-cover\"\n                />\n                <canvas\n                  ref={canvasRef}\n                  style={{ display: 'none' }}\n                />\n                \n                {/* Face detection overlay */}\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <div className=\"w-48 h-64 border-2 border-white rounded-lg opacity-50\">\n                    <div className=\"text-center text-white text-sm mt-2\">\n                      Position your face here\n                    </div>\n                  </div>\n                </div>\n\n                {!cameraReady && (\n                  <div className=\"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center\">\n                    <div className=\"text-center text-white\">\n                      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2\"></div>\n                      <p>Loading camera...</p>\n                      <button\n                        onClick={retryCamera}\n                        className=\"mt-2 text-blue-300 hover:text-blue-100 text-sm underline\"\n                      >\n                        Retry Camera\n                      </button>\n                    </div>\n                  </div>\n                )}\n              </div>\n              \n              <p className=\"text-sm text-gray-600 mt-2\">\n                Please ensure your face is clearly visible and well-lit for accurate recognition.\n              </p>\n            </div>\n          )}\n\n          {/* Current Time Display */}\n          <div className=\"mb-6 bg-gray-50 rounded-lg p-4\">\n            <div className=\"text-center\">\n              <p className=\"text-sm text-gray-600\">Current Time</p>\n              <p className=\"text-2xl font-bold text-gray-900\">\n                {new Date().toLocaleTimeString()}\n              </p>\n              <p className=\"text-sm text-gray-500\">\n                {new Date().toLocaleDateString('en-US', {\n                  weekday: 'long',\n                  year: 'numeric',\n                  month: 'long',\n                  day: 'numeric'\n                })}\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end space-x-3\">\n          <button\n            onClick={onClose}\n            disabled={loading}\n            className=\"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors disabled:opacity-50\"\n          >\n            Cancel\n          </button>\n          <button\n            onClick={handleSubmit}\n            disabled={loading || !location || !cameraReady}\n            className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 flex items-center\"\n          >\n            {loading ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                Processing...\n              </>\n            ) : (\n              `Submit ${attendanceType === 'check_in' ? 'Check-in' : 'Check-out'}`\n            )}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AttendanceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}